# 笔记
##　3-1 页面入口+header 组件的编写

### 安装依赖

```
# babel-runtime 会对一些ES6的语法做转译，用于提供编译模块的工具函数，fastclick可以解决移动端点击300ms延迟的问题
npm i babel-runtime fastclick -S

# 对一些ES6的API，如promise等做转译
npm i babel-polyfill -D
```

babel-runtime用于辅助es6的编译，不需要在代码中引入，而babel-polyfill需要直接在main.js中引入

### 配置別名

```js
// vue.config.js
var path = require('path')
module.exports = {
  configureWebpack: {
    resolve: {
      alias: {
        '@@': path.join(__dirname, '/src/components'),
        common: path.join(__dirname, '/src/common'),
        // 用于styl引入样式时使用
        styl: path.join(__dirname, '/src/common/stylus')
      }
    }
  },
  productionSourceMap: false
}
```



##　4-2 jsonp原理介绍+Promise封装

jsonp原理：动态创建script标签，script标签不受同源策略限制，从而实现实现跨域。具体是先在本地创建一个回调函数，用于在获取数据后执行。然后在script的src指向需要请求的服务器地址url，并将本地回调函数的名字发给服务器,这个地址会根据你发送过来的回调函数的名字，返回一个脚本，脚本内有一个自执行函数，会执行之前我们创建的回调函数，并将从服务器返回的数据传入。script加载后执行该方法即实现了一次跨域通信。



## 4-12 vue-lazyload 懒加载插件介绍和应用

尽管早就用过这项技术了，不过还是复习一下。

懒加载的作用：

- 减少服务器的请求
- 节省移动端的流量
- 少加载了用不到的资源，从而加快了加载速度

```js
// main.js
import Vue from 'vue'
import VueLazyLoad from 'vue-lazyload'
Vue.use(VueLazyLoad)
```



better-scroll与fastclick库的冲突导致点击无效，可以通过给需要点击的dom加一个类名：`needsclick`来解决

